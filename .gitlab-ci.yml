# .gitlab-ci.yml — первый CI/CD пайплайн

image: ubuntu:22.04          # на чём будем запускать (Linux Ubuntu)

stages:                      # этапы пайплайна
  - build
  - test
  - deploy

build-job:                   # первая задача (job)
  stage: build
  script:
    - echo "=== Сборка проекта ==="
    - echo "Здесь будет команда сборки (make, cmake, npm run build и т.д.)"
    - echo "Сборка завершена успешно ✅"

test-job:                    # вторая задача — автотесты (пока placeholder)
  stage: test
  script:
    - echo "=== Запуск автотестов ==="
    - echo "Здесь будут реальные тесты (pytest, gtest, npm test и т.д.)"
    - echo "Все тесты прошли успешно ✅"   # пока просто текст

deploy-job:                  # третья задача — деплой (пока placeholder)
  stage: deploy
  script:
    - echo "=== Деплой на продакшн ==="
    - echo "Здесь будет команда деплоя (scp, rsync, docker push и т.д.)"
  only:
    - master                     # запускается только на ветке master
